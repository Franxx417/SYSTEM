document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".status-indicator"),e=document.querySelector(".system-status span:not(.status-indicator)");if(!t||!e)return;a(),setInterval(a,3e4);function a(){fetch("/api/system-status",{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(s=>{if(!s.ok)throw new Error("System unavailable");return s.json()}).then(s=>{t.classList.remove("status-offline"),t.classList.add("status-online"),e.textContent="System Online",e.classList.remove("text-danger"),s.maintenance&&(e.textContent="Maintenance Mode",t.style.backgroundColor="#ffc107")}).catch(s=>{t.classList.remove("status-online"),t.classList.add("status-offline"),t.style.backgroundColor="#dc3545",e.textContent="System Unavailable",e.classList.add("text-danger");const o=document.getElementById("loginForm");if(o&&!document.querySelector(".system-error-message")){const n=document.createElement("div");n.className="alert alert-danger system-error-message mb-4",n.innerHTML='<i class="fas fa-exclamation-triangle me-2"></i> The system is currently unavailable. Please try again later.',o.prepend(n)}})}});
