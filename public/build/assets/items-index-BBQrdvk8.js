window.confirmDelete=function(e,t){var n=document.getElementById("itemName");n&&(n.textContent=t||"");var d=document.getElementById("deleteForm");if(d){var a=window.location.origin;d.action=a+"/items/"+e}window.bootstrap&&document.getElementById("deleteModal")&&new bootstrap.Modal(document.getElementById("deleteModal")).show()};window.editItem=function(e,t,n,d,a){var l=document.getElementById("editItemForm");l&&(l.action="/items/"+e);var c=document.getElementById("edit_item_name");c&&(c.value=t||"");var m=document.getElementById("edit_item_description");m&&(m.value=n||"");var v=document.getElementById("edit_quantity");v&&(v.value=d||"1");var r=document.getElementById("edit_unit_price");r&&(r.value=a||""),u(),window.bootstrap&&document.getElementById("editItemModal")&&new bootstrap.Modal(document.getElementById("editItemModal")).show()};function f(){var o=document.getElementById("create_quantity"),e=document.getElementById("create_unit_price"),t=document.getElementById("create_total_cost");if(o&&e&&t){var n=parseFloat(o.value)||0,d=parseFloat(e.value)||0,a=n*d;t.value=a.toFixed(2)}}function u(){var o=document.getElementById("edit_quantity"),e=document.getElementById("edit_unit_price"),t=document.getElementById("edit_total_cost");if(o&&e&&t){var n=parseFloat(o.value)||0,d=parseFloat(e.value)||0,a=n*d;t.value=a.toFixed(2)}}document.addEventListener("DOMContentLoaded",function(){var o=document.querySelectorAll(".alert");o.forEach(function(i){setTimeout(function(){i&&i.parentNode&&i.remove()},5e3)});var e=document.getElementById("create_quantity"),t=document.getElementById("create_unit_price");e&&e.addEventListener("input",f),t&&t.addEventListener("input",f);var n=document.getElementById("edit_quantity"),d=document.getElementById("edit_unit_price");n&&n.addEventListener("input",u),d&&d.addEventListener("input",u);var a=document.getElementById("createItemModal");a&&a.addEventListener("show.bs.modal",function(){var i=document.getElementById("createItemForm");if(i){var E=i.querySelector(".alert-danger");if(!E){i.reset();var y=document.getElementById("create_quantity");y&&(y.value="1")}f()}});var l=document.getElementById("editItemModal");l&&l.addEventListener("show.bs.modal",function(){setTimeout(function(){u()},100)});var c=document.getElementById("createItemModal");if(c){var r=document.getElementById("createItemForm");if(r&&r.querySelector(".alert-danger")){var m=new bootstrap.Modal(c);m.show()}}var v=document.getElementById("editItemModal");if(v){var I=document.getElementById("editItemForm");if(I&&I.querySelector(".alert-danger")){var m=new bootstrap.Modal(v);m.show()}}f(),u();var r=document.getElementById("createItemForm");r&&r.addEventListener("submit",function(i){f()});var I=document.getElementById("editItemForm");I&&I.addEventListener("submit",function(i){u()})});
